
<div>
	<form class="form-inline pull-right">
	    <div class="form-group">
	        <div>
	            <input id="searchTenant" data-ng-model="search.query" type="text" class="form-control" placeholder="{{'moon.tenant.list.search.placeholder' | translate}}" />
	        </div>
	    </div>
	    <div class="form-group">
	        <div>
	            <button type="submit" class="btn btn-danger" data-ng-click="search.reset()" translate="moon.tenant.list.search.reset">Reset</button>
	        </div>
	    </div>
	</form>
</div>

<div>&nbsp;</div>
<div>&nbsp;</div>
<div>&nbsp;</div>

<div class="row">

	<div class="table-responsive" role="table">
	
        <table class="table table-striped table-hover" ng-table="tenantsTable">
        
            <colgroup>
                <col class="col-md-2" />
                <col class="col-md-2" />
                <col class="col-md-1" />
                <col class="col-md-1" />
                <col class="col-md-2" />
                <col class="col-md-1" />
            </colgroup>
            
            <thead>
            
                <tr>
                
                	<th class="customTables sortable"
						ng-class="{ 'sort-asc': tenantsTable.isSortBy('name', 'asc'), 'sort-desc': tenantsTable.isSortBy('name', 'desc') }"
						ng-click="tenantsTable.sorting('name', tenantsTable.isSortBy('name', 'asc') ? 'desc' : 'asc')">
							<div translate="moon.tenant.list.table.name">Name</div>
					</th>
                
					<th class="customTables sortable"
						ng-class="{ 'sort-asc': tenantsTable.isSortBy('domain', 'asc'), 'sort-desc': tenantsTable.isSortBy('domain', 'desc') }"
						ng-click="tenantsTable.sorting('domain', tenantsTable.isSortBy('domain', 'asc') ? 'desc' : 'asc')">
							<div translate="moon.tenant.list.table.domain">Domain</div>
					</th>
						
					<th class="customTables sortable"
						ng-class="{ 'sort-asc': tenantsTable.isSortBy('managed', 'asc'), 'sort-desc': tenantsTable.isSortBy('managed', 'desc') }"
						ng-click="tenantsTable.sorting('managed', tenantsTable.isSortBy('managed', 'asc') ? 'desc' : 'asc')">
							<div translate="moon.tenant.list.table.managed">Managed</div>
					</th>
					 
                    <th class="customTables sortable"
						ng-class="{ 'sort-asc': tenantsTable.isSortBy('enabled', 'asc'), 'sort-desc': tenantsTable.isSortBy('enabled', 'desc') }"
						ng-click="tenantsTable.sorting('enabled', tenantsTable.isSortBy('enabled', 'asc') ? 'desc' : 'asc')">
							<div translate="moon.tenant.list.table.enabled">Enabled</div>
					</th>
					
					<th class="customTables">
						<div translate="moon.tenant.list.table.mapping">Mapping</div>
					</th>
					
                    <th class="customTables">
						<div translate="moon.tenant.list.action.title">Actions</div>
					</th>
                    
                </tr>
                
            </thead>
            
            <tbody ng-if="tenantsLoading">
            	<tr>
            		<td colspan="5"><img src="static/moon/img/ajax-loader.gif" /> <em translate="moon.tenant.list.table.loading">Loading Tenants</em></td>
            	</tr>
            </tbody>
            
            <tbody ng-if="!tenantsLoading && tenants.length == 0">
            	<tr>
            		<td colspan="5"><span translate="moon.tenant.list.table.notFound">There is no Tenants</span></td>
            	</tr>
            </tbody>
            
            <tbody ng-if="!tenantsLoading && tenants.length  > 0">
            
	            <tr ng-repeat="tenant in $data | filter:search.find | orderBy:sort:reverse">
	                <td>{{tenant.name}} </td>
	               	<td>{{tenant.domain}}</td>
	                 <td>
	                	<span ng-if="tenant.managed" class="glyphicon glyphicon-ok"></span>
	                </td>
	                <td>
	                	<span ng-if="tenant.enabled" class="glyphicon glyphicon-ok"></span>
	                </td>
	                <td>
	                	<a href="" ng-if="tenant.extensionUuid == null" ng-click="map.display(tenant)">
	                		<span class="glyphicon glyphicon-link"></span> <em translate="moon.tenant.list.action.map">map with an Intra Extension</em>
	                	</a>
	                	
	                	<div ng-if="tenant.extensionUuid != null">
	                	
	                		<div ng-if="tenant.intraExtension == null">
		                		<img src="static/moon/img/ajax-loader.gif" /> <em translate="">Loading Intra Extension</em>
	                		</div>
	                	
	                		<div ng-if="tenant.intraExtension != null">
		                		<span ng-bind="tenant.intraExtension.name[0]"></span> (<a href="" ng-click="unmap.display(tenant)">
		                			<span class="glyphicon glyphicon-transfer"></span> <em translate="moon.tenant.list.action.unmap">unmap with an Intra Extension</em>
		                		</a>)
	                		</div>
	                		
	                	</div>
	                </td>
	                <td>
		                <div class="btn-group" dropdown>
		                        <button type="button" class="btn btn-default" translate="moon.tenant.list.action.title">Actions</button>
		                        <button type="button" class="btn btn-default dropdown-toggle">
		                            <span class="caret"></span>
		                            <span class="sr-only">Split Action button!</span>
		                        </button>
		                        <ul class="dropdown-menu" role="menu">
		                            <li>
			                            <a href="" ng-click="view.display(tenant)">
				                            <span class="glyphicon glyphicon-eye-open"></span>
				                            <medium for="detail" class="control-label" translate="moon.tenant.list.action.detail">Detail</medium>	   
			                            </a>
									</li>
									<li class="divider"></li>
		                            <li>
			                            <a href="" ng-click="remove.display(tenant)">
			                            	<span class="glyphicon glyphicon-trash"></span>
			                            	<medium for="delete" class="control-label"  translate="moon.tenant.list.action.delete">Delete</medium>
			                            </a>
		                            </li>
		                       </ul>
		               </div>
	               </td>
	               
	            </tr>
	            
            </tbody>
            
        </table>
        
	</div>

   	<div class="container">
		<div class="form-inline form-group">
           	<a href="" ng-click="add.display()" class="btn btn-default">
            	<span class="glyphicon glyphicon-plus-sign"></span>
                <span translate="moon.tenant.list.action.add">Add Tenant</span>
			</a>
		</div>
    </div>
    
</div>
